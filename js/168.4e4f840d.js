"use strict";(self["webpackChunk_1timeused_quasar"]=self["webpackChunk_1timeused_quasar"]||[]).push([[168],{168:(e,l,a)=>{a.r(l),a.d(l,{default:()=>W});a(8964);var t=a(9835),u=a(499),o=a(6970),n=a(4511),s=a(7539);const i=e=>((0,t.dD)("data-v-7a2069c4"),e=e(),(0,t.Cn)(),e),m={class:"container q-py-lg"},r=i((()=>(0,t._)("h1",{class:"text-h5 text-center w-100"},"Account Settings",-1))),d={class:"profile-avatar column items-center w-100"},c=["src"],p={class:"absolute-bottom text-right",style:{right:"6px",bottom:"5px"}},v={class:"text-h6 text-center q-pt-sm"},h={class:"email text-grey"},b={class:"flex justify-center items-center w-100"},g={class:"q-pa-md account-tab"},w={setup(e){const l="https://1timeused.com/",{rules:a}=(0,s.Z)(),i=(0,n.t)(),w=(0,u.iH)(i.authUser),f=(0,u.iH)(w.value.name),V=(0,u.iH)(w.value.email),_=(0,u.iH)(w.value.phone),q=(0,u.iH)(!1),y=(0,u.iH)(null),x=()=>{w.value.phone.length<=4&&"+923"!=w.value.phone.substring(0,4)?w.value.phone="+923":w.value.phone="+"+w.value.phone.replace(/[^0-9]/g,"")},U=e=>{y.value=e;const l=new FileReader;l.onloadend=function(){y.value=l.result},l.readAsDataURL(e)},S=e=>{const l=e.target.files[0];w.value.photo=l,U(l)},W=async()=>{console.log("profileDAta: ",w.value);const e=await i.updateProfile(w.value);200==e.status&&(f.value=w.value.name,V.value=w.value.email,_.value=w.value.phone)};return(e,n)=>{const s=(0,t.up)("q-avatar"),i=(0,t.up)("q-input"),U=(0,t.up)("q-toggle"),k=(0,t.up)("q-btn");return(0,t.wg)(),(0,t.iD)("div",m,[r,(0,t._)("div",d,[(0,t.Wm)(s,{size:"100px"},{default:(0,t.w5)((()=>[(0,t._)("img",{src:y.value?y.value:w.value.photo?(0,u.SU)(l)+w.value.photo:"https://www.w3schools.com/w3images/avatar2.png",alt:"img",style:{"object-fit":"cover"}},null,8,c),(0,t._)("div",p,[(0,t._)("input",{type:"file",label:"Standard",onChange:n[0]||(n[0]=e=>S(e)),ref:"fileInput",hidden:""},null,544),(0,t._)("i",{class:"fa fa-camera cursor-pointer",onClick:n[1]||(n[1]=l=>e.$refs.fileInput.click()),style:{"font-size":"20px"}})])])),_:1}),(0,t._)("div",v,(0,o.zw)(f.value),1),(0,t._)("div",h,(0,o.zw)(V.value||_.value),1),(0,t._)("div",b,[(0,t._)("div",g,[(0,t.Wm)(i,{outlined:"",modelValue:w.value.name,"onUpdate:modelValue":n[2]||(n[2]=e=>w.value.name=e),label:"Enter Full Name",class:"q-mb-md bg-white",rules:[e=>e.length>=3||"Name must be atleast 3 characters"]},null,8,["modelValue","rules"]),(0,t.Wm)(i,{outlined:"",modelValue:w.value.city,"onUpdate:modelValue":n[3]||(n[3]=e=>w.value.city=e),label:"Enter City",class:"q-mb-md bg-white"},null,8,["modelValue"]),(0,t.Wm)(i,{outlined:"",modelValue:w.value.email,"onUpdate:modelValue":n[4]||(n[4]=e=>w.value.email=e),label:"example@mail.com",class:"q-mb-md bg-white",rules:[(0,u.SU)(a).required,(0,u.SU)(a).email]},null,8,["modelValue","rules"]),(0,t.Wm)(i,{outlined:"",modelValue:w.value.phone,"onUpdate:modelValue":n[5]||(n[5]=e=>w.value.phone=e),label:"Enter Phone ",class:"q-mb-md bg-white",maxlength:"13",type:"text",onKeyup:x,rules:[(0,u.SU)(a).required,e=>13==e.length||"Number must be 13 characters"]},null,8,["modelValue","rules"]),(0,t.Wm)(i,{outlined:"",modelValue:w.value.neighborhood,"onUpdate:modelValue":n[6]||(n[6]=e=>w.value.neighborhood=e),label:"Enter Neighborhood ",class:"q-mb-md bg-white"},null,8,["modelValue"]),(0,t.Wm)(U,{modelValue:q.value,"onUpdate:modelValue":n[7]||(n[7]=e=>q.value=e),label:"Show my phone number in ads"},null,8,["modelValue"])])]),(0,t.Wm)(k,{color:"primary",glossy:"",label:"Update Setting",onClick:n[8]||(n[8]=e=>W())})])])}}};var f=a(1639),V=a(1357),_=a(3119),q=a(7137),y=a(9379),x=a(9984),U=a.n(x);const S=(0,f.Z)(w,[["__scopeId","data-v-7a2069c4"]]),W=S;U()(w,"components",{QAvatar:V.Z,QInput:_.Z,QToggle:q.Z,QBtn:y.Z})}}]);